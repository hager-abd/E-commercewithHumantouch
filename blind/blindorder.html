
<!DOCTYPE html>
<html lang="ar">
<head>
  <style>
    * {
      box-sizing: border-box;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    body {
      margin: 0;
      height: 100vh;
      background-image: url(blind.png);
  background-repeat: no-repeat;
  background-attachment: fixed;
  background-position: center;
  background-size: cover;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    h2 {
  color: #f60;
  text-shadow: 1px 1px 4px black;
  margin-bottom: 30px; /* Ø²ÙˆØ¯Ù†Ø§ Ø§Ù„Ù…Ø³Ø§ÙØ© ØªØ­Øª Ø§Ù„Ø¹Ù†ÙˆØ§Ù† */
}


    .voice-section {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 15px;
}

.voice-section button {
  background-color: rgba(0, 0, 0, 0.4); /* Ù„ÙˆÙ† Ø´Ø¨Ù‡ Ø®Ù„ÙÙŠØ© Ø§Ù„Ø´Ø§Ø´Ø© */
  border: none;
  color: orange;
  font-size: 20px;
  padding: 12px 20px;
  border-radius: 30px;
  cursor: pointer;
  transition: 0.3s ease;
  box-shadow: 0 5px 15px rgba(255, 255, 255, 0.1);
}

.voice-section button:hover {
  background-color: rgba(255, 102, 0, 0.8); /* Ø¨Ø±ØªÙ‚Ø§Ù„ÙŠ Ø´ÙØ§Ù Ø¹Ù†Ø¯ Ø§Ù„Ù…Ø±ÙˆØ± */
  color: white;
}

#voice-status {
  font-size: 18px;
  color: orange;
  font-weight: bold;
  background-color: rgba(0, 0, 0, 0.3);
  padding: 10px 20px;
  border-radius: 20px;
  box-shadow: 0 5px 10px rgba(255, 255, 255, 0.1);
}
/*snack bar*/
    
.snackbar {
      visibility: hidden;
      width: 30vw; /* 25% Ù…Ù† Ø¹Ø±Ø¶ Ø§Ù„Ø´Ø§Ø´Ø© */
      max-width: none;
      background-color: #ff9800; /* Ø¨Ø±ØªÙ‚Ø§Ù„ÙŠ */
      color: #fff;
      padding: 12px 16px; /* padding ØµØºÙŠØ± */
      border-radius: 12px;
      box-shadow: 0 8px 16px rgba(0,0,0,0.2);
      position: fixed;
      top: 50%;
      right: 30px;
      transform: translateY(-50%);
      z-index: 999;
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 10px;
      transition: opacity 0.5s ease;
      opacity: 0;
    }

    .snackbar.show {
      opacity: 1;
      visibility: visible;
    }

    .snackbar button {
      background: none;
      border: none;
      color: white;
      font-weight: bold;
      font-size: 18px;
      cursor: pointer;
    }

    .snackbar button:hover {
      color: #ffdddd;
    }
  </style>
  <meta charset="UTF-8">
  <title>Ù…Ø³Ø§Ø¹Ø¯ ØµÙˆØªÙŠ Ù„Ù„Ø·Ù„Ø¨</title>
</head>
<body dir="rtl">

<div class="voice-section">
  <h2>ğŸ§ Ø§Ø·Ù„Ø¨ Ù…Ù†ØªØ¬Ø§ØªÙƒ Ø¨Ø§Ù„ØµÙˆØª</h2>
  <button onclick="startListening()">ğŸ¤ Ø§Ø¶ØºØ· Ù„Ù„Ø·Ù„Ø¨ Ø¨Ø§Ù„ØµÙˆØª</button>
  <div id="voice-status">Ù‚ÙˆÙ„: "Ø£Ø¶Ù Ø³Ø§Ø¹Ø©" Ø£Ùˆ "Ø§Ø¹Ø±Ø¶ Ø§Ù„Ø³Ù„Ø©"</div>
</div>
<div id="snackbar" class="snackbar">
  <a href="learnbl/index.html" style="color: white; text-decoration: none;"><span>Ø£Ø¹Ù…Ù‰</span></a>
  <a href="learnbl/index.html" style="color: white; text-decoration: none;"><span>ğŸ§  Ø£Ù…ÙŠÙ‡</span></a> 
  <a href="learnbl/index.html" style="color: white; text-decoration: none;"><span>ğŸ”‡ Ø§Ù„ØµÙ… ÙˆØ§Ù„Ø¨ÙƒÙ…</span></a> 
   <button onclick="hideSnackbar()">Ã—</button>
 </div>




  

  <script>
         const snackbar = document.getElementById("snackbar");
     let autoHideTimeout;
   
     
    let currentStep = "";
    let orderData = { items: [], total: 0, name: "", address: "", phone: "" };
    let spacePressCount = 0;
    let spaceTimer;
    let inactivityTimer;

    window.onload = function() {
      speak(" Ù…Ø±Ø­Ø¨Ù‹Ø§ Ø¨Ùƒ ÙÙŠ Ø¹Ù„ÙŠ Ø¨Ø§Ø¨Ø§ Ù„Ø°ÙˆÙŠ Ø§Ù„Ø§Ø­ØªÙŠØ§Ø¬Ø§Øª Ø§Ù„Ø®Ø§ØµØ©. Ù…Ù† ÙØ¶Ù„Ùƒ ÙÙŠ ÙƒÙ„ Ù…Ø±Ø© Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø²Ø± Ø§Ù„Ù…Ø³Ø·Ø±Ø© Ù…Ø±ØªÙŠÙ† Ø¨Ø³Ø±Ø¹Ø©ØŒ ÙˆÙ‡Ùˆ Ø£ÙƒØ¨Ø± Ø²Ø± ÙÙŠ Ù„ÙˆØ­Ø© Ø§Ù„Ù…ÙØ§ØªÙŠØ­. ÙˆØ¥Ø°Ø§ Ù„Ù… Ø£ØªÙƒÙ„Ù…ØŒ Ø§ÙØ¹Ù„ Ø§Ù„ØªØ§Ù„ÙŠ: Ø­Ø±Ù‘Ùƒ Ø¥ØµØ¨Ø¹Ùƒ Ù…Ù† Ø²Ø± Ø§Ù„Ù…Ø³Ø·Ø±Ø© Ø£Ø±Ø¨Ø¹ Ù…Ø±Ø§Øª Ø¥Ù„Ù‰ Ø§Ù„ÙŠÙ…ÙŠÙ†ØŒ Ø³ØªØ¬Ø¯ Ø²Ø±Ù‹Ø§ Ø¹Ø§Ù„ÙŠ Ø§Ù„Ù…Ù„Ù…Ø³ØŒ Ø§Ø¶ØºØ· Ø¹Ù„ÙŠÙ‡ Ø£Ø±Ø¨Ø¹ Ù…Ø±Ø§Øª ØŒ Ø«Ù… Ø­Ø±Ù‘Ùƒ Ù„Ø£Ø¹Ù„Ù‰ Ø«Ù„Ø§Ø« Ù…Ø±Ø§Øª Ù…Ù† Ù…ÙˆÙ‚Ø¹Ùƒ Ø«Ù… Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø²Ø± Ø¥Ù†ØªØ±.");
      showSnackbar(); // Ø£ÙˆÙ„ Ø¸Ù‡ÙˆØ±
      setInterval(showSnackbar, 5000); 
      enableKeyboardLearningRedirect();//three spaces yo go learning
    }
    function showSnackbar() {
       snackbar.classList.add("show");
       clearTimeout(autoHideTimeout);
   
       autoHideTimeout = setTimeout(() => {
         snackbar.classList.remove("show");
       }, 4000); // ØªÙØ¶Ù„ 4 Ø«ÙˆØ§Ù†ÙŠ
     }
   
     function hideSnackbar() {
       snackbar.classList.remove("show");
       clearTimeout(autoHideTimeout);
     }
    function speak(text) {
      const msg = new SpeechSynthesisUtterance();
      msg.text = text;
      msg.lang = "ar-EG";
      window.speechSynthesis.speak(msg);
    }

    document.addEventListener("keydown", function(e) {
      if (e.code === "Space") {
        spacePressCount++;
        clearTimeout(spaceTimer);

        spaceTimer = setTimeout(() => {
          if (spacePressCount >= 2) {
            startListening();
          }
          spacePressCount = 0;
        }, 400);
      }
    });

    function startListening() {
      const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
      recognition.lang = 'ar-EG';
      recognition.start();
      document.getElementById("voice-status").textContent = "ğŸ¤ Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø§Ø³ØªÙ…Ø§Ø¹...";

      clearTimeout(inactivityTimer);
      inactivityTimer = setTimeout(() => {
        speak("Ù„Ù… Ø£Ø³Ù…Ø¹ Ø´ÙŠØ¦Ù‹Ø§. ØªØ°ÙƒÙŠØ±: Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø²Ø± Ø§Ù„Ù…Ø³Ø·Ø±Ø© Ù…Ø±ØªÙŠÙ† Ø¨Ø³Ø±Ø¹Ø©. ÙˆØ¥Ø°Ø§ Ù„Ù… Ø£ØªÙƒÙ„Ù…ØŒ Ø­Ø±Ù‘Ùƒ Ø£Ø±Ø¨Ø¹ Ù…Ø±Ø§Øª ÙŠÙ…ÙŠÙ†Ù‹Ø§ Ù…Ù† Ø§Ù„Ù…Ø³Ø·Ø±Ø©ØŒ Ø«Ù… Ø§Ø¶ØºØ· Ø§Ù„Ø²Ø± Ø§Ù„Ù…Ø±ØªÙØ¹ Ø£Ø±Ø¨Ø¹ Ù…Ø±Ø§Øª ØŒ Ø«Ù… Ø­Ø±Ù‘Ùƒ Ù„Ø£Ø¹Ù„Ù‰ Ø«Ù„Ø§Ø« Ù…Ø±Ø§Øª ÙˆØ§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø²Ø± Ø¥Ù†ØªØ±");
      }, 20000);

      recognition.onresult = function(event) {
        clearTimeout(inactivityTimer);
        const transcript = event.results[0][0].transcript.trim();
        document.getElementById("voice-status").textContent = "Ø£Ù†Øª Ù‚Ù„Øª: " + transcript;

        if (currentStep === "get-name") {
          orderData.name = transcript;
          speak("Ù…Ø§ Ù‡Ùˆ Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ØªÙˆØµÙŠÙ„ØŸ");
          currentStep = "get-address";
          return;
        }

        if (currentStep === "get-address") {
          orderData.address = transcript;
          speak("Ù…Ø§ Ù‡Ùˆ Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙØŸ");
          currentStep = "get-phone";
          return;
        }

        if (currentStep === "get-phone") {
          orderData.phone = transcript;
          speak("ØªÙ… ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨ Ø¨Ù†Ø¬Ø§Ø­ØŒ Ø´ÙƒØ±Ù‹Ø§ Ù„Ùƒ. Ù„Ø¯ÙŠ Ø³ÙŠØ³ØªÙ… Ù…Ù‚ØªØ±Ø­ Ù„Ùƒ Ø¥Ø°Ø§ Ø£Ø±Ø¯Øª ØªØ¹Ù„Ù… Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù„ÙˆØ­Ø© Ø§Ù„Ù…ÙØ§ØªÙŠØ­ØŒ Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø²Ø± Ø§Ù†ØªØ± Ù…Ø±Ø§ØªÙŠÙ† Ø¨Ø³Ø±Ø¹Ø©.");
          sendOrderToServer(orderData);
          currentStep = "";
          return;
        }

     if (transcript.includes("ØªØ§ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨") && currentStep === "") {
      speak("Ù‡Ù„ ØªØ±ÙŠØ¯ ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨ØŸ Ù‚Ù„ Ù†Ø¹Ù… Ø£Ùˆ Ù„Ø§.");
      currentStep = "confirm-order";
       return;
     }

      if (currentStep === "confirm-order") {
        if (transcript.includes("Ù†Ø¹Ù…")) {
          speak("Ù…Ù† ÙØ¶Ù„Ùƒ Ù‚Ù„ Ø§Ø³Ù…Ùƒ Ø§Ù„ÙƒØ§Ù…Ù„.");
          currentStep = "get-name";
          } else if (transcript.includes("Ù„Ø§")) {
            speak("ØªÙ… Ø¥Ù„ØºØ§Ø¡ ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨. ÙŠÙ…ÙƒÙ†Ùƒ Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„ØªØ³ÙˆÙ‚. Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø²Ø± Ø§Ù„Ù…Ø³Ø·Ø±Ø© Ù…Ø±ØªÙŠÙ† Ø¨Ø³Ø±Ø¹Ø© Ø¥Ø°Ø§ Ø£Ø±Ø¯Øª ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨ Ù„Ø§Ø­Ù‚Ù‹Ø§.");
            currentStep = "";
            } else {
            speak("Ù„Ù… Ø£ÙÙ‡Ù…ØŒ Ù…Ù† ÙØ¶Ù„Ùƒ Ù‚Ù„ Ù†Ø¹Ù… Ø£Ùˆ Ù„Ø§.");
           }
             return;
             }

        // Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ø´Ø±Ø§Ø¡
        if (transcript.includes("Ø³Ø§Ø¹Ù‡")) {
          addToCart("2.jpg", 150, "Ø³Ø§Ø¹Ù‡");
        } else if (transcript.includes("Ù…ÙˆØ¨Ø§ÙŠÙ„")) {
          addToCart("images/phone.jpg", 200, "Ù…ÙˆØ¨Ø§ÙŠÙ„");
        } else if (transcript.includes("Ø±Ø²")) {
          addToCart("images/phone.jpg", 200, "Ø±Ø²");
        }else if (transcript.includes("Ø´Ù†Ø·Ù‡")) {
          addToCart("images/phone.jpg", 200, "Ø´Ù†Ø·Ù‡");
        }else if (transcript.includes("Ø¨ÙŠØªØ²Ø§")) {
          addToCart("images/phone.jpg", 300, "Ø¨ÙŠØªØ²Ø§");
        }
        else if (transcript.includes("Ù†Ø¸Ø§Ø±Ù‡")) {
          addToCart("images/phone.jpg", 500, "Ù†Ø¸Ø§Ø±Ù‡");
        }else if (transcript.includes("ÙØ³ØªØ§Ù† ")) {
          addToCart("images/laptop.jpg", 500, "ÙØ³ØªØ§Ù† ");
        } else if (transcript.includes("Ø§Ø¹Ø±Ø¶ Ø§Ù„Ø³Ù„Ù‡") || transcript.includes("Ø§ÙŠÙ‡ ÙÙŠ Ø§Ù„Ø³Ù„Ù‡")) {
          readCartItems();
        } else {
          speak("Ù„Ù… Ø£ÙÙ‡Ù…ØŒ Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.");
        }
      };

      recognition.onerror = function(e) {
        clearTimeout(inactivityTimer);
        document.getElementById("voice-status").textContent = "Ø­ØµÙ„Øª Ù…Ø´ÙƒÙ„Ø©: " + e.error;
        speak("Ø­ØµÙ„Øª Ù…Ø´ÙƒÙ„Ø© Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø§Ø³ØªÙ…Ø§Ø¹.");
      };
    }

    function addToCart(image, price, name) {
      speak(`ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© ${name} Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©.`);
      orderData.items.push({ name, price });
      orderData.total += price;
    }

    function readCartItems() {
      if (orderData.items.length === 0) {
        speak("Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©.");
      } else {
        let summary = "Ø§Ù„Ø³Ù„Ø© ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰: ";
        orderData.items.forEach(item => summary += item.name + "ØŒ ");
        summary += "Ø¨Ø¥Ø¬Ù…Ø§Ù„ÙŠ " + orderData.total + " Ø¬Ù†ÙŠÙ‡.";
        speak(summary);
      }
    }

    function sendOrderToServer(data) {
      console.log("ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨:", data);
      
    }
    function enableKeyboardLearningRedirect() {
  let enterCount = 0;
  let enterTimer;

  document.addEventListener("keydown", function enterListener(e) {
    if (e.code === "Enter") {
      enterCount++;
      clearTimeout(enterTimer);

      enterTimer = setTimeout(() => {
        if (enterCount === 2) {
          speak(" Ø¬Ø§Ø±ÙŠ ØªØ­ÙˆÙŠÙ„Ùƒ Ù„ØªØ¹Ù„Ù… Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù„ÙˆØ­Ø© Ø§Ù„Ù…ÙØ§ØªÙŠØ­ Ø§Ø¶ØºØ· Ø²Ø± Ø§Ù„Ù…Ø³Ø·Ø±Ù‡ Ù…Ø±ØªÙŠÙ† Ù„Ù„Ø§Ø±Ø´Ø§Ø¯.");
          window.location.href = "learnbl/index.html";
        }
        enterCount = 0;
      }, 500);
    }
  }); 
}


   </script>
</body>
</html>

